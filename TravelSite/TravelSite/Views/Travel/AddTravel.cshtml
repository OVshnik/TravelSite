@using TravelSite.Models.Travels
@{
	ViewData["Title"] = "AddTravel";
}
@model CreateTravelViewModel

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="css/bootstrap.css">


<label class="fs-5">Добавление тура</label>
<form class="frm" method="post" asp-controller="Travel" asp-action="AddTravel" enctype="multipart/form-data">
	<div asp-validation-summary="ModelOnly"></div>
	<div>
		<div class="mb-3">
			<input asp-for="Category" class="form-control" />
			<span asp-validation-for="Category" class="text-danger"></span>
		</div>
	</div>
	<div>
		<div class="mb-3">
			<input asp-for="Name" class="form-control" />
			<span asp-validation-for="Name" class="text-danger"></span>
		</div>
	</div>
	<div>
		<div class="mb-3">
			<input asp-for="Description" class="form-control" />
			<span asp-validation-for="Description" class="text-danger"></span>
		</div>
	</div>
	<div>
		<div class="mb-3">
			<input asp-for="Photo" type="file" class="form-control" />
			<span asp-validation-for="Photo" class="text-danger"></span>
		</div>
	</div>
	<div>
		<div class="mb-3">
			<input asp-for="PhotoGallery" type="file" multiple class="form-control" data-val="true" />
			<span asp-validation-for="PhotoGallery" class="text-danger"></span>
		</div>
	</div>
	<div>
		<div class="mb-3">
			<input asp-for="VideoList" type="file" multiple class="form-control" data-val="true" />
			<span asp-validation-for="VideoList" class="text-danger"></span>
		</div>
	</div>

	<div>
		<input class="btn btn-success" type="submit" value="Добавить" />
	</div>
</form>
<div>
	<label for="exampleInputPassword1" class="form-label">
		<a class="" asp-area="" asp-controller="Travel" asp-action="GetAllTravels">Перейти к списку всех туров</a>
	</label>
</div>
@section scripts
{
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/additional-methods.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/additional-methods.min.js"></script>
	<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
	<script>
		jQuery.validator.unobtrusive.adapters.add('checkmaxfilecount', ['count'], function (options) {
			options.rules['checkmaxfilecount'] =
			{
				count: options.params.count
			};
			if (options.message) {
				options.messages['checkmaxfilecount'] = options.message;
			}
		});

		jQuery.validator.addMethod('checkmaxfilecount', function (value, element, params) {
			if (element.files.length <= params.count) {
				return true;
			}
			return false;
		});
	</script>
}
